<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48">
  <defs>
    <clipPath id="flag-clip">
      <rect y="0" x="9.99" height="48" width="32" />
    </clipPath>
    <pattern id="flag-pattern" x="2" width="16" height="48" patternUnits="userSpaceOnUse">
      <rect x="0" y="0" width="8" height="48" fill="#B71C1C" />
      <rect x="8" y="0" width="8" height="48" fill="#EF5350" />
    </pattern>
  </defs>

  <g>
    <g clip-path="url(#flag-clip)">
      <g transform="scale(1 0.5) translate(0 9)">
        <g>
          <g>
            <g id="flag">
              <path
                d="m-6 10a4 4 0 018 0a4 4 0 008 0a4 4 0 018 0a4 4 0 008 0a4 4 0 018 0a4 4 0 008 0v40a4 4 0 01-8 0a4 4 0 00-8 0a4 4 0 01-8 0a4 4 0 00-8 0a4 4 0 01-8 0a4 4 0 00-8 0"
                fill="url(#flag-pattern)" />
            </g>
            <use transform="translate(-48 0)" href="#flag" />
          </g>
          <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="48 0" dur="3s"
            repeatCount="indefinite" />
          <animateTransform attributeName="transform" dur="1s" calcMode="spline" repeatCount="indefinite"
            values="0 0;0 -4;0 0;0 4;0 0" keyTimes="0;0.25;0.5;0.75;1" keySplines="0 1 1 1;1 0 1 1;0 1 1 1;1 0 1 1"
            additive="sum" />
        </g>
      </g>
    </g>
    <g id="flagpole">
      <rect ry="2" rx="2" y="8" x="6" height="38" width="4" fill="#aaa" />
    </g>
  </g>
</svg>